#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <unistd.h>
#include <string.h>
#include <stdbool.h>

#define MAX_BUF_SIZE 1024
//using namespace std;

int main(int argc, char **argv)
{
    char* pathname = argv[1];
    bool flag;
    int fd = open(argv[1], O_RDONLY);
//    if(fd < 0){
//        //error can not be opened
//        //return
//    }
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    char *buffer = (char *) malloc(sizeof(char) * MAX_BUF_SIZE);
    int bytes_read = read(fd, buffer, MAX_BUF_SIZE);

    if(bytes_read < 0){
        //error: the reading has failed
        //return
    }
    for (int i = strlen(buffer) - 1; i >= 0; i --){
        printf ("%c",buffer[i]);
    }

    if (bytes_read == MAX_BUF_SIZE){
        
    }
    //deal with more and more reading

    //print buffers
    //free mallocs
}
